@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 30 20% 98%;
  --foreground: 222 20% 12%;
  --surface: 0 0% 100%;
  --surface-elevated: 0 0% 100%;
  --surface-muted: 24 18% 94%;
  --muted: 220 8% 46%;
  --border: 24 14% 88%;
  --accent: 5 85% 53%;
  --accent-dark: 5 75% 40%;
  --accent-soft: 5 90% 60%;
  --accent-muted: 5 70% 94%;
  --accent-foreground: 0 0% 100%;
  --success: 142 62% 43%;
  --destructive: 0 70% 40%;
  --scrollbar-track: 24 18% 93%;
  --scrollbar-thumb: 5 80% 52%;
  --scrollbar-thumb-hover: 5 86% 58%;
  --scrollbar-thumb-active: 5 74% 42%;
  --scrollbar-size: 8px;
}

.dark {
  --background: 230 18% 7%;
  --foreground: 0 0% 95%;
  --surface: 230 16% 10%;
  --surface-elevated: 230 18% 12%;
  --surface-muted: 230 14% 14%;
  --muted: 220 10% 65%;
  --border: 230 12% 22%;
  --accent: 5 86% 60%;
  --accent-dark: 5 70% 42%;
  --accent-soft: 5 90% 66%;
  --accent-muted: 5 50% 18%;
  --accent-foreground: 0 0% 100%;
  --success: 142 62% 45%;
  --destructive: 0 70% 45%;
  --scrollbar-track: 230 14% 14%;
  --scrollbar-thumb: 5 80% 56%;
  --scrollbar-thumb-hover: 5 88% 62%;
  --scrollbar-thumb-active: 5 72% 45%;
}

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  overflow-x: hidden;
}

html,
body,
.scrollbar-premium {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--scrollbar-thumb)) hsl(var(--scrollbar-track));
}

*::-webkit-scrollbar {
  width: var(--scrollbar-size);
  height: var(--scrollbar-size);
}

*::-webkit-scrollbar-track {
  background: hsl(var(--scrollbar-track));
  border-radius: 9999px;
  margin: 4px;
}

*::-webkit-scrollbar-thumb {
  background: hsl(var(--scrollbar-thumb));
  border-radius: 9999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  transition: background 0.2s ease, width 0.2s ease, height 0.2s ease;
}

*::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--scrollbar-thumb-hover));
  border-radius: 9999px;
  border: 2px solid transparent;
  background-clip: padding-box;
  box-shadow: 0 0 0 1px hsl(var(--accent) / 0.2);
}

*::-webkit-scrollbar-thumb:active {
  background: hsl(var(--scrollbar-thumb-active));
  border-radius: 9999px;
  box-shadow: 0 0 0 1px hsl(var(--accent) / 0.3);
}

*::-webkit-scrollbar-corner {
  background: hsl(var(--scrollbar-track));
  border-radius: 0 0 4px 0;
}

*::-webkit-scrollbar-thumb:horizontal {
  min-width: 40px;
}

*::-webkit-scrollbar-thumb:vertical {
  min-height: 40px;
}

@media (max-width: 768px) {
  html {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: smooth;
  }
  body {
    overscroll-behavior: contain;
  }
}

body {
  @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))] antialiased;
  background-image:
    radial-gradient(1200px circle at 12% -10%, hsl(var(--accent) / 0.08), transparent 58%),
    radial-gradient(900px circle at 88% -20%, hsl(var(--accent) / 0.06), transparent 55%),
    radial-gradient(700px circle at 50% 120%, hsl(0 0% 100% / 0.8), transparent 60%);
  background-attachment: fixed;
  transition: background-color 0.6s cubic-bezier(0.4, 0, 0.2, 1), color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

.dark body {
  background-image:
    radial-gradient(1200px circle at 10% -10%, hsl(var(--accent) / 0.18), transparent 55%),
    radial-gradient(900px circle at 90% 0%, hsl(var(--accent) / 0.12), transparent 55%),
    radial-gradient(700px circle at 50% 130%, hsl(230 20% 12% / 0.8), transparent 60%);
}

::selection {
  background: hsl(var(--accent) / 0.2);
  color: hsl(var(--foreground));
}

button,
select,
input,
a,
[role="button"] {
  transition: background-color 0.28s cubic-bezier(0.4, 0, 0.2, 1), color 0.28s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.28s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1), transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

@layer components {
  .card-surface {
    @apply relative overflow-hidden rounded-2xl border border-[hsl(var(--border))]/60 bg-[hsl(var(--surface))] shadow-soft transition-shadow duration-500;
  }

  .card-muted {
    @apply rounded-2xl border border-[hsl(var(--border))]/50 bg-[hsl(var(--surface-muted))]/60;
  }

  .chip {
    @apply inline-flex items-center gap-1.5 rounded-full border border-[hsl(var(--border))]/60 bg-[hsl(var(--surface-muted))] px-3 py-1.5 text-[11px] font-semibold uppercase tracking-[0.16em] text-[hsl(var(--muted))];
  }

  .glass-panel {
    @apply border border-[hsl(var(--border))]/60 bg-[hsl(var(--surface))]/70 backdrop-blur-2xl;
  }
}

.red-glow {
  box-shadow: 0 0 24px -4px hsl(var(--accent) / 0.25), 0 0 48px -12px hsl(var(--accent) / 0.15);
}

.dark .red-glow {
  box-shadow: 0 0 32px -4px hsl(var(--accent) / 0.35), 0 0 64px -16px hsl(var(--accent) / 0.2);
}

.focus-glow:focus-visible {
  box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--accent)), 0 0 20px -4px hsl(var(--accent) / 0.35);
}

.dark .focus-glow:focus-visible {
  box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--accent)), 0 0 28px -4px hsl(var(--accent) / 0.4);
}

.ambient-glow::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, hsl(var(--accent) / 0.18) 0%, transparent 50%, hsl(var(--accent-dark) / 0.12) 100%);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

.recharts-tooltip-wrapper {
  outline: none;
}

.recharts-default-tooltip {
  padding: 0.75rem 1rem !important;
  border-radius: 12px !important;
  border: 1px solid hsl(var(--border)) !important;
  background: hsl(var(--surface-elevated)) !important;
  color: hsl(var(--foreground)) !important;
  box-shadow: 0 4px 24px -4px rgba(0, 0, 0, 0.08), 0 12px 48px -12px rgba(0, 0, 0, 0.06) !important;
  font-size: 0.8125rem !important;
}

.recharts-tooltip-wrapper,
.recharts-default-tooltip,
.recharts-tooltip-label,
.recharts-tooltip-item-list,
.recharts-tooltip-item,
.recharts-tooltip-item-name,
.recharts-tooltip-item-separator,
.recharts-tooltip-item-value,
.recharts-tooltip-item-unit {
  color: hsl(var(--foreground)) !important;
}

.dark .recharts-cartesian-axis-tick text,
.dark .recharts-legend-item-text {
  fill: hsl(var(--foreground)) !important;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

.text-money {
  @apply font-bold tabular-nums tracking-tight;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
}

.text-money-hero {
  @apply text-money;
  background: linear-gradient(135deg, hsl(var(--accent-dark)) 0%, hsl(var(--accent)) 40%, hsl(var(--accent-soft)) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 0 40px hsl(var(--accent) / 0.15);
}

.dark .text-money-hero {
  background: linear-gradient(135deg, hsl(var(--accent)) 0%, hsl(var(--accent-soft)) 50%, hsl(var(--accent-soft) / 0.8) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.glow-number {
  filter: drop-shadow(0 0 12px hsl(var(--accent) / 0.25));
}

.dark .glow-number {
  filter: drop-shadow(0 0 16px hsl(var(--accent) / 0.35));
}
